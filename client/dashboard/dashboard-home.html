<template name="dashboard">
  <div class="main">
    <div class="main-content">
      <div class="main-content-item col-xs-12">
        <h2>Submission status</h2>
        <hr />
        <div class="row">
          <div class="col-md-3 col-md-push-1">
            {{>portalPieChart}}
          </div>
          <div class="col-md-6 col-md-push-2">
            <div class="row">
              <div class="col-xs-6 text-center">
                <p class="lead">Waiting</p>
                <p class="mega text-primary">
                  <i class="fa fa-clock-o"></i> {{countPortals 'submitted'}}
                </p>
              </div>
              <div class="col-xs-6 text-center">
                <p class="lead">Live</p>
                <p class="mega green">
                  <i class="fa fa-check"></i> {{countPortals 'live'}}
                </p>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6 text-center">
                <p class="lead">Rejected</p>
                <p class="mega red">
                  <i class="fa fa-times"></i> {{countPortals 'rejected'}}
                </p>
              </div>
              <div class="col-xs-6 text-center">
                <p class="lead">Duplicates</p>
                <p class="mega text-warning">
                  <i class="fa fa-tags"></i> {{countPortals 'duplicate'}}
                </p>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-4 col-xs-push-4 text-center">
                <p class="lead">Total</p>
                <p class="mega">
                  <i class="fa fa-upload"></i> {{totalPortals}}
                </p>
              </div>
            </div>
          </div>
        </div>
        {{#if isNextSeerAvailable}}
        {{>badgeProgress}}
        {{/if}}
        <h2>Time taken</h2>
        <div class="row">
          <div class="col-xs-4 text-center">
            <p class="lead">Shortest response</p>
            <p class="mega green">
              <i class="fa fa-smile-o"></i> {{shortestResponse}} days
            </p>
          </div>
          <div class="col-xs-4 text-center">
            <p class="lead">Average response</p>
            <p class="mega">
              <i class="fa fa-meh-o"></i> {{averageResponse}} days
            </p>
            <p>({{humanize averageResponse}})</p>
          </div>
          <div class="col-xs-4 text-center">
            <p class="lead">Longest response</p>
            <p class="mega red">
              <i class="fa fa-frown-o"></i> {{longestResponse}} days
            </p>
            <p class="red">({{humanize longestResponse}})</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="portalPieChart">
  <canvas id="portalPieChart" height="300" class="center-block">
  </canvas>
</template>

<template name="badgeProgress">
{{#with nextSeerBadge}}
<h2>Seer progress</h2>
<div class="row">
  <div class="col-xs-12">
    <p>{{#unless eq currentLevel 'Before'}}You currently have the {{currentLevel}} Seer medal.{{else}}You have not yet unlocked Seer.{{/unless}} You will need to have {{toNextLevel}} more portal(s) accepted for {{nextLevel}}.</p>
    <div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="{{percent}}" aria-min="0" aria-max="100" style="width: {{percent}}%"></div>
    </div>
  </div>
</div>
{{/with}}
</template>
